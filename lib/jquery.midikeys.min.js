/**
 * jquery.midikeys 0.3.0
 * (c) 2014 Mike Dominice <mike@mikedominice.com>
 * jquery.midikeys is freely distributable under the MIT license.
 */
!function(a,b,c){"use strict";if("object"==typeof exports)module.exports=c(require("jquery"));else{if("undefined"==typeof b||!b.amd)return c(a.jQuery);b(["jquery"],c)}}(this,this.define,function(a,b){"use strict";function c(a,b){this.timestamp=a,this.data=b}function d(b,d){var e=this,f={},g=e.$el=a(b),t=e.opts=a.extend({},q,d),u=function(b,d){return function(e){var h=e.type,i=w(e,t[p]),l=s+i;if(i){if(h===j){if(f[l])return;f[l]=!0}else h===k&&delete f[l];a.isFunction(d)&&(d=d(e.timeStamp)),g.trigger("message",new c(e.timeStamp,c.createData(b|t[o],i,d)))}}},v=u(h,t[m]),x=u(i,t[n]);e._defaults=q,e.option=function(a,b){r.indexOf(a)>-1&&(t[a]=b)},g.on(j,v),g.on(k,x),e[l]=function(){g.off(j,v),g.off(k,x)}}var e=48,f=127,g=64,h=144,i=128,j="keydown",k="keyup",l="destroy",m="noteOnVelocity",n="noteOffVelocity",o="channel",p="startNote",q=function(){var a={};return a[p]=e,a[m]=f,a[n]=g,a[o]=0,a}(),r=[p,m,n,o],s="midiKeys",t="_plugin_"+s,u="ZSXDCVGBHNJMQ2W3ER5T6Y7UI9O0P",v={},w=function(a,b){var c=String.fromCharCode(a.keyCode),d=u.indexOf(c);if(!(0>d))return b+d};return v[h]="NOTE ON",v[i]="NOTE_OFF",c.createData=function(a,b,c){var d=new Uint8Array(3);return d[0]=a,d[1]=b,d[2]=c,d},a.fn[s]=function(c){var e=arguments;if(c===b||"object"==typeof c)return this.each(function(){a.data(this,t)||a.data(this,t,new d(this,c))});if("string"==typeof c){var f;return e=Array.prototype.slice.call(e,1),this.each(function(){var b=a(this).data(t);b instanceof d&&"function"==typeof b[c]&&(f=b[c].apply(b,e)),c===l&&a.data(this,t,null)}),f!==b?f:this}},a.fn[s]});