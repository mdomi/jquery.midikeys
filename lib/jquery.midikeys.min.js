/**
 * jquery.midikeys 0.3.0
 * (c) 2013 Mike Dominice <mike@mikedominice.com>
 * jquery.midikeys is freely distributable under the MIT license.
 */
(function(t,e,n){"use strict";if("object"==typeof exports)module.exports=n(require("jquery"));else{if(void 0===e||!e.amd)return n(t.jQuery);e(["jquery"],n)}})(this,this.define,function(t,e){"use strict";function n(t,e){this.timestamp=t,this.data=e}function i(e,i){var r=this,o={},a=r.$el=t(e),g=r.opts=t.extend({},m,i),j=function(e,i){return function(r){var f=r.type,u=N(r,g[l]),d=O+u;if(u){if(f===s){if(o[d])return;o[d]=!0}else f===c&&delete o[d];t.isFunction(i)&&(i=i(r.timeStamp)),a.trigger("message",new n(r.timeStamp,n.createData(e|g[h],u,i)))}}},x=j(f,g[y]),w=j(u,g[p]);r._defaults=m,r.option=function(t,e){v.indexOf(t)>-1&&(g[t]=e)},a.on(s,x),a.on(c,w),r[d]=function(){a.off(s,x),a.off(c,w)}}var r=48,o=127,a=64,f=144,u=128,s="keydown",c="keyup",d="destroy",y="noteOnVelocity",p="noteOffVelocity",h="channel",l="startNote",m=function(){var t={};return t[l]=r,t[y]=o,t[p]=a,t[h]=0,t}(),v=[l,y,p,h],O="midiKeys",g="_plugin_"+O,j="ZSXDCVGBHNJMQ2W3ER5T6Y7UI9O0P",x={},N=function(t,e){var n=String.fromCharCode(t.keyCode),i=j.indexOf(n);if(!(0>i))return e+i};return x[f]="NOTE ON",x[u]="NOTE_OFF",n.createData=function(t,e,n){var i=new Uint8Array(3);return i[0]=t,i[1]=e,i[2]=n,i},t.fn[O]=function(n){var r=arguments;if(n===e||"object"==typeof n)return this.each(function(){t.data(this,g)||t.data(this,g,new i(this,n))});if("string"==typeof n){var o;return r=Array.prototype.slice.call(r,1),this.each(function(){var e=t(this).data(g);e instanceof i&&"function"==typeof e[n]&&(o=e[n].apply(e,r)),n===d&&t.data(this,g,null)}),o!==e?o:this}},t.fn[O]});